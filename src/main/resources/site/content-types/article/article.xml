<?xml version="1.0" encoding="UTF-8"?>
<content-type>
    <display-name>Artikkel</display-name>
    <super-type>base:structured</super-type>
    <form>
        <item-set name="authorItemSet">
            <label>Forfatter</label>
            <occurrences minimum="0" maximum="0"/>
            <items>
                <input name="name" type="TextLine">
                    <label>Navn</label>
                    <occurrences minimum="0" maximum="1"/>
                </input>
                <input name="email" type="TextLine">
                    <label>E-post</label>
                    <occurrences minimum="0" maximum="1"/>
                </input>
            </items>
        </item-set>
        <input name="showPublishDate" type="CheckBox">
            <label>Vis publiseringsdato</label>
            <default>checked</default>
        </input>
        <option-set name="showModifiedDate">
            <label>Vis tidspunkt for sist redigering</label>
            <expanded>false</expanded>
            <occurrences minimum="0" maximum="1"/>
            <help-text>You can select up to 2 options</help-text>
            <options minimum="1" maximum="2">
                <option name="dateOption">
                    <label>Skal det vises dato?</label>
                    <help-text>Hjelpetekst, den nyttigste</help-text>
                    <items>
                        <input name="showModifiedTime" type="CheckBox">
                            <label>Vis klokkeslett for publisering</label>
                            <default>unchecked</default>
                        </input>
                        <input name="modifiedDate" type="DateTime">
                            <label>Tidspunkt for endring</label>
                        </input>
                    </items>
                </option>
            </options>
        </option-set>

        <input name="ingress" type="TextArea">
            <occurrences minimum="1" maximum="1" />
            <label>Ingress</label>
        </input>

        <input name="articleText" type="HtmlArea">
            <label>Artikkeltekst</label>
            <config>
                <include>Blockquote</include>
                <allowHeadings>h2 h3 h4 h5</allowHeadings>
            </config>
        </input>

        <field-set>
            <label>Relaterte sider</label>
            <items>
                <item-set name="relatedExternalLinkItemSet">
                    <label>Relaterte eksterne lenker</label>
                    <occurrences minimum="0" maximum="0"/>
                    <items>
                        <input type="TextLine" name="urlText">
                            <label>Lenketekst</label>
                            <occurrences minimum="1" maximum="1" />
                        </input>
                        <input type="TextLine" name="url">
                            <label>URL</label>
                            <occurrences minimum="1" maximum="1" />
                        </input>
                    </items>
                </item-set>
            </items>
        </field-set>

        <field-set>
            <label>Relaterte artikler</label>
            <items>
                <option-set name="relatedArticles">
                    <label>Relatert artikkel</label>
                    <expanded>false</expanded>
                    <occurrences minimum="0" maximum="0"/>
                    <options minimum="1" maximum="1">
                        <option name="article">
                            <label>Artikkel</label>
                            <default>true</default>
                            <items>
                                <input name="article" type="ContentSelector">
                                    <label>Artikkel</label>
                                    <occurrences minimum="1" maximum="1"/>
                                    <config>
                                        <allowContentType>${app}:article</allowContentType>
                                    </config>
                                </input>
                            </items>
                        </option>
                        <option name="externalArticle">
                            <label>Artikkel fra CMS</label>
                            <items>
                                <input name="url" type="TextLine">
                                    <label>URL</label>
                                    <occurrences minimum="1" maximum="1"/>
                                </input>
                                <input name="title" type="TextLine">
                                    <label>Tittel</label>
                                    <occurrences minimum="1" maximum="1"/>
                                </input>
                                <input name="type" type="TextLine">
                                    <label>Type</label>
                                    <occurrences minimum="0" maximum="1"/>
                                </input>
                                <input name="date" type="Date">
                                    <label>Dato</label>
                                    <occurrences minimum="0" maximum="1"/>
                                </input>
                                <input name="preface" type="TextArea">
                                    <label>Ingress</label>
                                    <occurrences minimum="1" maximum="1"/>
                                </input>
                                <input name="image" type="ImageSelector">
                                    <label>Bilde</label>
                                    <occurrences minimum="1" maximum="1"/>
                                    <config>
                                        <allowPath>${site}/*</allowPath>
                                        <showStatus>true</showStatus>
                                    </config>
                                </input>
                            </items>
                        </option>
                    </options>
                </option-set>
            </items>
        </field-set>

        <field-set>
            <label>Relaterte Faktasider</label>
            <items>
                <item-set name="relatedFactPagesItemSet">
                    <label>Relaterte faktasider</label>
                    <occurrences minimum="0" maximum="1"/>
                    <items>
                        <input type="TextLine" name="title">
                            <label>Seksjons tittel</label>
                            <occurrences minimum="0" maximum="1"/>
                        </input>
                        <input name="itemList" type="ContentSelector">
                            <label>Faktasider</label>
                            <occurrences minimum="0" maximum="0"/>
                            <config>
                                <allowPath>${site}</allowPath>
                                <allowType>page</allowType>
                                <treeMode>false</treeMode>
                                <description>Legg til faktasider</description>
                            </config>
                        </input>
                    </items>
                </item-set>
            </items>
        </field-set>

        <field-set>
            <label>Løpenummer</label>
            <items>
                <input name="serialNumber" type="TextLine">
                    <label>Løpenummer</label>
                    <occurrences minimum="0" maximum="1"/>
                </input>
            </items>
        </field-set>

        <field-set>
            <label>Stikktittel</label>
            <items>
                <input name="introTitle" type="TextLine">
                    <label>Stikktittel</label>
                    <occurrences minimum="0" maximum="1"/>
                </input>
            </items>
        </field-set>

        <field-set>
            <label>Kontakter</label>
            <items>
                <input name="contacts" type="CustomSelector">
                    <occurrences minimum="0" maximum="0" />
                    <label>Kontakter</label>
                    <config>
                        <service>contacts</service>
                    </config>
                </input>
            </items>
        </field-set>
    </form>
</content-type>
